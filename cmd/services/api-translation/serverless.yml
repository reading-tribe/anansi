service: TranslationAPI
frameworkVersion: '2'
configValidationMode: error
unresolvedVariablesNotificationMode: error
deprecationNotificationMode: error

provider:
  name: aws
  runtime: go1.x
  stage: ${opt:stage}
  region: eu-central-1
  stackName: TranslationAPI
  memorySize: 1024
  timeout: 10
  logRetentionInDays: 14
  deploymentPrefix: serverless
  versionFunctions: false
  environment:
    ENVIRONMENT: ${opt:stage}
    endpointType: regional
  iam:
    role: TranslationAPILambdaRole

package:
  individually: true
  excludeDevDependencies: false

resources:
  - ${file(./iam.yml)}

functions:
  CreateTranslation:
    handler: bin/func_create_translation
    name: TranslationAPI-CreateTranslation
    package:
      patterns:
        - '!./**'
        - ./bin/func_create_translation
    events:
      - httpApi:
          path: /translation
          method: POST
          authorizer: arn:aws:lambda:eu-central-1:685079929070:function:AuthAPI-Authorize
  DeleteTranslation:
    handler: bin/func_delete_translation
    name: TranslationAPI-DeleteTranslation
    package:
      patterns:
        - '!./**'
        - ./bin/func_delete_translation
    events:
      - httpApi:
          path: /translation/{id}
          method: DELETE
          authorizer: arn:aws:lambda:eu-central-1:685079929070:function:AuthAPI-Authorize
  GetTranslation:
    handler: bin/func_get_translation
    name: TranslationAPI-GetTranslation
    package:
      patterns:
        - '!./**'
        - ./bin/func_get_translation
    events:
      - httpApi:
          path: /translation/{id}
          method: GET
          authorizer: arn:aws:lambda:eu-central-1:685079929070:function:AuthAPI-Authorize
  ListTranslations:
    handler: bin/func_list_translations
    name: TranslationAPI-ListTranslations
    package:
      patterns:
        - '!./**'
        - ./bin/func_list_translations
    events:
      - httpApi:
          path: /translation
          method: GET
          authorizer: arn:aws:lambda:eu-central-1:685079929070:function:AuthAPI-Authorize
  UpdateTranslation:
    handler: bin/func_update_translation
    name: TranslationAPI-UpdateTranslation
    package:
      patterns:
        - '!./**'
        - ./bin/func_update_translation
    events:
      - httpApi:
          path: /translation/{id}
          method: PATCH
          authorizer: arn:aws:lambda:eu-central-1:685079929070:function:AuthAPI-Authorize
